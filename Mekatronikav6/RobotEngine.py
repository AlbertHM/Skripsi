from math import degrees, radians, sin, cos, atan2, pow, sqrt
import config as cf
import numpy as np
from numpy import conj

#Duplikasi, biar g capek ngetik
N		= cf.N
Period	= cf.Period

def control_joint(i):
	cf.q_cmd[i]	= cf.q_awal[i] + ((cf.q_final[i]-cf.q_awal[i]) * (cf.k/N))
	cf.dq_old[i]	= cf.dq[i]
	cf.dq_ref[i]	= (cf.q_cmd[i] - cf.q[i]) / Period
	cf.ddq_ref[i]	= (cf.dq_ref[i] - cf.dq_old[i])/Period
	cf.ddq[i]		= cf.KpJ * cf.dq[i] + cf.KvJ * cf.ddq_ref[i]
	cf.dq[i]		= cf.dq[i] + cf.ddq[i] * Period
	cf.q[i]			= cf.q[i] + cf.dq[i] * Period
	
	#print("Control Joint : Joint({}), K({}), qAwal({}), qcmd({}), qfinal({})".format(i, cf.k, [round(degrees(p),3) for p in cf.q_awal], [round(degrees(p),3) for p in cf.q_cmd], [round(degrees(p),3) for p in cf.q_final]))

def forward_kinematic():
	q = cf.q[:]

	#2 Juni
	x = [ sin(q[5])*(cos(q[3])*sin(q[0]) - sin(q[3])*(cos(q[0] + q[1] + q[2] + 3927/5000)/2 + cos(q[1] - q[0] + q[2] + 3927/5000)/2)) - cos(q[5])*(sin(q[4])*(sin(q[0] + q[1] + q[2] + 3927/5000)/2 + cos(q[0] - q[1] - q[2] + 3927/5000)/2) - cos(q[4])*(sin(q[0])*sin(q[3]) + cos(q[3])*(cos(q[0] + q[1] + q[2] + 3927/5000)/2 + cos(q[1] - q[0] + q[2] + 3927/5000)/2))), sin(q[5])*(sin(q[4])*(sin(q[0] + q[1] + q[2] + 3927/5000)/2 + cos(q[0] - q[1] - q[2] + 3927/5000)/2) - cos(q[4])*(sin(q[0])*sin(q[3]) + cos(q[3])*(cos(q[0] + q[1] + q[2] + 3927/5000)/2 + cos(q[1] - q[0] + q[2] + 3927/5000)/2))) + cos(q[5])*(cos(q[3])*sin(q[0]) - sin(q[3])*(cos(q[0] + q[1] + q[2] + 3927/5000)/2 + cos(q[1] - q[0] + q[2] + 3927/5000)/2)), cos(q[4])*(sin(q[0] + q[1] + q[2] + 3927/5000)/2 + cos(q[0] - q[1] - q[2] + 3927/5000)/2) + sin(q[4])*(sin(q[0])*sin(q[3]) + cos(q[3])*(cos(q[0] + q[1] + q[2] + 3927/5000)/2 + cos(q[1] - q[0] + q[2] + 3927/5000)/2)), cos(q[0])/25 + (19*cos(q[4])*(sin(q[0] + q[1] + q[2] + 3927/5000)/2 + cos(q[0] - q[1] - q[2] + 3927/5000)/2))/200 + (13*cos(q[1] + 3927/5000)*cos(q[0]))/100 + (19*sin(q[4])*(sin(q[0])*sin(q[3]) + cos(q[3])*(cos(q[0] + q[1] + q[2] + 3927/5000)/2 + cos(q[1] - q[0] + q[2] + 3927/5000)/2)))/200 + (9*cos(q[1] + 3927/5000)*cos(q[0])*cos(q[2]))/500 + (197*cos(q[1] + 3927/5000)*cos(q[0])*sin(q[2]))/1000 + (197*sin(q[1] + 3927/5000)*cos(q[0])*cos(q[2]))/1000 - (9*sin(q[1] + 3927/5000)*cos(q[0])*sin(q[2]))/500]
	y = [ cos(q[5])*(sin(q[4])*(cos(q[0] + q[1] + q[2] + 3927/5000)/2 - cos(q[1] - q[0] + q[2] + 3927/5000)/2) - cos(q[0])*cos(q[4])*sin(q[3])) - cos(q[0])*cos(q[3])*sin(q[5]), - sin(q[5])*(sin(q[4])*(cos(q[0] + q[1] + q[2] + 3927/5000)/2 - cos(q[1] - q[0] + q[2] + 3927/5000)/2) - cos(q[0])*cos(q[4])*sin(q[3])) - cos(q[0])*cos(q[3])*cos(q[5]), - cos(q[4])*(cos(q[0] + q[1] + q[2] + 3927/5000)/2 - cos(q[1] - q[0] + q[2] + 3927/5000)/2) - cos(q[0])*sin(q[3])*sin(q[4]), sin(q[0])/25 + (13*cos(q[1] + 3927/5000)*sin(q[0]))/100 - (19*cos(q[4])*(cos(q[0] + q[1] + q[2] + 3927/5000)/2 - cos(q[1] - q[0] + q[2] + 3927/5000)/2))/200 + (9*cos(q[1] + 3927/5000)*cos(q[2])*sin(q[0]))/500 + (197*cos(q[1] + 3927/5000)*sin(q[0])*sin(q[2]))/1000 + (197*sin(q[1] + 3927/5000)*cos(q[2])*sin(q[0]))/1000 - (9*sin(q[1] + 3927/5000)*sin(q[0])*sin(q[2]))/500 - (19*cos(q[0])*sin(q[3])*sin(q[4]))/200]
	z = [ cos(q[5])*(cos(q[1] + q[2] + 3927/5000)*sin(q[4]) + cos(q[4])*(sin(q[1] + q[2] + q[3] + 3927/5000)/2 + sin(q[1] + q[2] - q[3] + 3927/5000)/2)) + sin(q[5])*(cos(q[1] + q[2] + q[3] + 3927/5000)/2 - cos(q[1] + q[2] - q[3] + 3927/5000)/2), cos(q[5])*(cos(q[1] + q[2] + q[3] + 3927/5000)/2 - cos(q[1] + q[2] - q[3] + 3927/5000)/2) - sin(q[5])*(cos(q[1] + q[2] + 3927/5000)*sin(q[4]) + cos(q[4])*(sin(q[1] + q[2] + q[3] + 3927/5000)/2 + sin(q[1] + q[2] - q[3] + 3927/5000)/2)), sin(q[4])*(sin(q[1] + q[2] + q[3] + 3927/5000)/2 + sin(q[1] + q[2] - q[3] + 3927/5000)/2) - cos(q[1] + q[2] + 3927/5000)*cos(q[4]), (13*sin(q[1] + 3927/5000))/100 + (19*sin(q[4])*(sin(q[1] + q[2] + q[3] + 3927/5000)/2 + sin(q[1] + q[2] - q[3] + 3927/5000)/2))/200 - (197*cos(q[1] + 3927/5000)*cos(q[2]))/1000 + (9*cos(q[1] + 3927/5000)*sin(q[2]))/500 + (9*sin(q[1] + 3927/5000)*cos(q[2]))/500 + (197*sin(q[1] + 3927/5000)*sin(q[2]))/1000 - (19*cos(q[1] + q[2] + 3927/5000)*cos(q[4]))/200 + 81/1000]

	
	#Pitch
	pitch = atan2(x[2],sqrt((y[2]**2)+(z[2]**2)))
	#Roll
	if(pitch==radians(90) or pitch == radians(-90)):
		roll = 0
	else:
		roll = atan2((-y[2]/cos(pitch)),(z[2]/cos(pitch)))
	#Yaw
	if(pitch == radians(90)):
		yaw = atan2(z[1],y[1])
	elif(pitch == radians(-90)):
		yaw = -atan2(z[1],y[1])
	else:
		yaw = atan2((-x[1]/cos(pitch)),(x[0]/cos(pitch)))
	
	
	cf.xyz	= [x[3], y[3], z[3], roll, pitch, yaw]
	
	#print("BRG {:>8.3f} | {:>8.3f} | {:>8.3f}".format(cf.bxyz[0], cf.bxyz[1], cf.bxyz[2]))
	#print("XYZ {:>8.3f} | {:>8.3f} | {:>8.3f}".format(x[3], y[3], z[3]))
	#print("RPY {:>8.3f} | {:>8.3f} | {:>8.3f}".format(degrees(roll), degrees(pitch), degrees(yaw)))

def trajectory_init():
	forward_kinematic()
	cf.xyz_init = cf.xyz[:]
	cf.ddq		= [0,0,0,0,0,0]

def trajectory_planning():
	
	for p in range(0,3):
		cf.xyz_cmd[p] = cf.xyz_init[p] + (cf.xyz_final[p]-cf.xyz_init[p]) * (cf.k/N)
	#print(">CMD {}".format(cf.xyz_cmd[0]))
		
def double_differential():
	cf.dxyz_old = cf.dxyz[:]
	
	for p in range(0,3):
		cf.dxyz[p]	= (cf.xyz_cmd[p] - cf.xyz[p])/Period
		cf.ddxyz_ref[p] = (cf.dxyz[p] - cf.dxyz_old[p])/Period
		
def double_integrator():
	
	for p in range(0,3):
		cf.dq[p]	= cf.dq[p] + cf.ddq[p] * Period
		cf.q[p]		= cf.q[p] + cf.dq[p] * Period

def control_task():

	for p in range(0,3):
		cf.ddxyz[p] = cf.KpT * cf.dxyz[p] + cf.KiT * cf.dxyz[p] * Period + cf.KvT * cf.ddxyz_ref[p]
		
def inverse_jacobian():
	q = cf.q[:]
	
	J11 = ((cos(q[3])*sin(q[5]) + cos(q[4])*cos(q[5])*sin(q[3]))*(cos(q[1] + 3927/5000)*(cos(q[2])*((19*cos(q[3])*sin(q[4]))/200 + 9/500) + sin(q[2])*((19*cos(q[4]))/200 + 197/1000) + 13/100) - sin(q[1] + 3927/5000)*(sin(q[2])*((19*cos(q[3])*sin(q[4]))/200 + 9/500) - cos(q[2])*((19*cos(q[4]))/200 + 197/1000)) + 1/25) + (19*sin(q[3])*sin(q[4])*(cos(q[1] + 3927/5000)*(cos(q[2])*(sin(q[3])*sin(q[5]) - cos(q[3])*cos(q[4])*cos(q[5])) + cos(q[5])*sin(q[2])*sin(q[4])) - sin(q[1] + 3927/5000)*(sin(q[2])*(sin(q[3])*sin(q[5]) - cos(q[3])*cos(q[4])*cos(q[5])) - cos(q[2])*cos(q[5])*sin(q[4]))))/200)*(cos(q[5])*(sin(q[4])*(sin(q[0] + q[1] + q[2] + 3927/5000)/2 + cos(q[0] - q[1] - q[2] + 3927/5000)/2) - cos(q[4])*(sin(q[0])*sin(q[3]) + cos(q[3])*(cos(q[0] + q[1] + q[2] + 3927/5000)/2 + cos(q[1] - q[0] + q[2] + 3927/5000)/2))) - sin(q[5])*(cos(q[3])*sin(q[0]) - sin(q[3])*(cos(q[0] + q[1] + q[2] + 3927/5000)/2 + cos(q[1] - q[0] + q[2] + 3927/5000)/2))) - (cos(q[4])*(sin(q[0] + q[1] + q[2] + 3927/5000)/2 + cos(q[0] - q[1] - q[2] + 3927/5000)/2) + sin(q[4])*(sin(q[0])*sin(q[3]) + cos(q[3])*(cos(q[0] + q[1] + q[2] + 3927/5000)/2 + cos(q[1] - q[0] + q[2] + 3927/5000)/2)))*(sin(q[3])*sin(q[4])*(cos(q[1] + 3927/5000)*(cos(q[2])*((19*cos(q[3])*sin(q[4]))/200 + 9/500) + sin(q[2])*((19*cos(q[4]))/200 + 197/1000) + 13/100) - sin(q[1] + 3927/5000)*(sin(q[2])*((19*cos(q[3])*sin(q[4]))/200 + 9/500) - cos(q[2])*((19*cos(q[4]))/200 + 197/1000)) + 1/25) - (19*sin(q[3])*sin(q[4])*(sin(q[1] + 3927/5000)*(cos(q[2])*cos(q[4]) - cos(q[3])*sin(q[2])*sin(q[4])) + cos(q[1] + 3927/5000)*(cos(q[4])*sin(q[2]) + cos(q[2])*cos(q[3])*sin(q[4]))))/200) - ((cos(q[3])*cos(q[5]) - cos(q[4])*sin(q[3])*sin(q[5]))*(cos(q[1] + 3927/5000)*(cos(q[2])*((19*cos(q[3])*sin(q[4]))/200 + 9/500) + sin(q[2])*((19*cos(q[4]))/200 + 197/1000) + 13/100) - sin(q[1] + 3927/5000)*(sin(q[2])*((19*cos(q[3])*sin(q[4]))/200 + 9/500) - cos(q[2])*((19*cos(q[4]))/200 + 197/1000)) + 1/25) + (19*sin(q[3])*sin(q[4])*(cos(q[1] + 3927/5000)*(cos(q[2])*(cos(q[5])*sin(q[3]) + cos(q[3])*cos(q[4])*sin(q[5])) - sin(q[2])*sin(q[4])*sin(q[5])) - sin(q[1] + 3927/5000)*(sin(q[2])*(cos(q[5])*sin(q[3]) + cos(q[3])*cos(q[4])*sin(q[5])) + cos(q[2])*sin(q[4])*sin(q[5]))))/200)*(sin(q[5])*(sin(q[4])*(sin(q[0] + q[1] + q[2] + 3927/5000)/2 + cos(q[0] - q[1] - q[2] + 3927/5000)/2) - cos(q[4])*(sin(q[0])*sin(q[3]) + cos(q[3])*(cos(q[0] + q[1] + q[2] + 3927/5000)/2 + cos(q[1] - q[0] + q[2] + 3927/5000)/2))) + cos(q[5])*(cos(q[3])*sin(q[0]) - sin(q[3])*(cos(q[0] + q[1] + q[2] + 3927/5000)/2 + cos(q[1] - q[0] + q[2] + 3927/5000)/2)))
	J21 = (cos(q[4])*(cos(q[0] + q[1] + q[2] + 3927/5000)/2 - cos(q[1] - q[0] + q[2] + 3927/5000)/2) + cos(q[0])*sin(q[3])*sin(q[4]))*(sin(q[3])*sin(q[4])*(cos(q[1] + 3927/5000)*(cos(q[2])*((19*cos(q[3])*sin(q[4]))/200 + 9/500) + sin(q[2])*((19*cos(q[4]))/200 + 197/1000) + 13/100) - sin(q[1] + 3927/5000)*(sin(q[2])*((19*cos(q[3])*sin(q[4]))/200 + 9/500) - cos(q[2])*((19*cos(q[4]))/200 + 197/1000)) + 1/25) - (19*sin(q[3])*sin(q[4])*(sin(q[1] + 3927/5000)*(cos(q[2])*cos(q[4]) - cos(q[3])*sin(q[2])*sin(q[4])) + cos(q[1] + 3927/5000)*(cos(q[4])*sin(q[2]) + cos(q[2])*cos(q[3])*sin(q[4]))))/200) - ((cos(q[3])*sin(q[5]) + cos(q[4])*cos(q[5])*sin(q[3]))*(cos(q[1] + 3927/5000)*(cos(q[2])*((19*cos(q[3])*sin(q[4]))/200 + 9/500) + sin(q[2])*((19*cos(q[4]))/200 + 197/1000) + 13/100) - sin(q[1] + 3927/5000)*(sin(q[2])*((19*cos(q[3])*sin(q[4]))/200 + 9/500) - cos(q[2])*((19*cos(q[4]))/200 + 197/1000)) + 1/25) + (19*sin(q[3])*sin(q[4])*(cos(q[1] + 3927/5000)*(cos(q[2])*(sin(q[3])*sin(q[5]) - cos(q[3])*cos(q[4])*cos(q[5])) + cos(q[5])*sin(q[2])*sin(q[4])) - sin(q[1] + 3927/5000)*(sin(q[2])*(sin(q[3])*sin(q[5]) - cos(q[3])*cos(q[4])*cos(q[5])) - cos(q[2])*cos(q[5])*sin(q[4]))))/200)*(cos(q[5])*(sin(q[4])*(cos(q[0] + q[1] + q[2] + 3927/5000)/2 - cos(q[1] - q[0] + q[2] + 3927/5000)/2) - cos(q[0])*cos(q[4])*sin(q[3])) - cos(q[0])*cos(q[3])*sin(q[5])) + ((cos(q[3])*cos(q[5]) - cos(q[4])*sin(q[3])*sin(q[5]))*(cos(q[1] + 3927/5000)*(cos(q[2])*((19*cos(q[3])*sin(q[4]))/200 + 9/500) + sin(q[2])*((19*cos(q[4]))/200 + 197/1000) + 13/100) - sin(q[1] + 3927/5000)*(sin(q[2])*((19*cos(q[3])*sin(q[4]))/200 + 9/500) - cos(q[2])*((19*cos(q[4]))/200 + 197/1000)) + 1/25) + (19*sin(q[3])*sin(q[4])*(cos(q[1] + 3927/5000)*(cos(q[2])*(cos(q[5])*sin(q[3]) + cos(q[3])*cos(q[4])*sin(q[5])) - sin(q[2])*sin(q[4])*sin(q[5])) - sin(q[1] + 3927/5000)*(sin(q[2])*(cos(q[5])*sin(q[3]) + cos(q[3])*cos(q[4])*sin(q[5])) + cos(q[2])*sin(q[4])*sin(q[5]))))/200)*(sin(q[5])*(sin(q[4])*(cos(q[0] + q[1] + q[2] + 3927/5000)/2 - cos(q[1] - q[0] + q[2] + 3927/5000)/2) - cos(q[0])*cos(q[4])*sin(q[3])) + cos(q[0])*cos(q[3])*cos(q[5]))
	J31 = ((cos(q[3])*cos(q[5]) - cos(q[4])*sin(q[3])*sin(q[5]))*(cos(q[1] + 3927/5000)*(cos(q[2])*((19*cos(q[3])*sin(q[4]))/200 + 9/500) + sin(q[2])*((19*cos(q[4]))/200 + 197/1000) + 13/100) - sin(q[1] + 3927/5000)*(sin(q[2])*((19*cos(q[3])*sin(q[4]))/200 + 9/500) - cos(q[2])*((19*cos(q[4]))/200 + 197/1000)) + 1/25) + (19*sin(q[3])*sin(q[4])*(cos(q[1] + 3927/5000)*(cos(q[2])*(cos(q[5])*sin(q[3]) + cos(q[3])*cos(q[4])*sin(q[5])) - sin(q[2])*sin(q[4])*sin(q[5])) - sin(q[1] + 3927/5000)*(sin(q[2])*(cos(q[5])*sin(q[3]) + cos(q[3])*cos(q[4])*sin(q[5])) + cos(q[2])*sin(q[4])*sin(q[5]))))/200)*(sin(q[5])*(cos(q[1] + q[2] + 3927/5000)*sin(q[4]) + cos(q[4])*(sin(q[1] + q[2] + q[3] + 3927/5000)/2 + sin(q[1] + q[2] - q[3] + 3927/5000)/2)) - cos(q[5])*(cos(q[1] + q[2] + q[3] + 3927/5000)/2 - cos(q[1] + q[2] - q[3] + 3927/5000)/2)) - ((cos(q[3])*sin(q[5]) + cos(q[4])*cos(q[5])*sin(q[3]))*(cos(q[1] + 3927/5000)*(cos(q[2])*((19*cos(q[3])*sin(q[4]))/200 + 9/500) + sin(q[2])*((19*cos(q[4]))/200 + 197/1000) + 13/100) - sin(q[1] + 3927/5000)*(sin(q[2])*((19*cos(q[3])*sin(q[4]))/200 + 9/500) - cos(q[2])*((19*cos(q[4]))/200 + 197/1000)) + 1/25) + (19*sin(q[3])*sin(q[4])*(cos(q[1] + 3927/5000)*(cos(q[2])*(sin(q[3])*sin(q[5]) - cos(q[3])*cos(q[4])*cos(q[5])) + cos(q[5])*sin(q[2])*sin(q[4])) - sin(q[1] + 3927/5000)*(sin(q[2])*(sin(q[3])*sin(q[5]) - cos(q[3])*cos(q[4])*cos(q[5])) - cos(q[2])*cos(q[5])*sin(q[4]))))/200)*(cos(q[5])*(cos(q[1] + q[2] + 3927/5000)*sin(q[4]) + cos(q[4])*(sin(q[1] + q[2] + q[3] + 3927/5000)/2 + sin(q[1] + q[2] - q[3] + 3927/5000)/2)) + sin(q[5])*(cos(q[1] + q[2] + q[3] + 3927/5000)/2 - cos(q[1] + q[2] - q[3] + 3927/5000)/2)) - (sin(q[4])*(sin(q[1] + q[2] + q[3] + 3927/5000)/2 + sin(q[1] + q[2] - q[3] + 3927/5000)/2) - cos(q[1] + q[2] + 3927/5000)*cos(q[4]))*(sin(q[3])*sin(q[4])*(cos(q[1] + 3927/5000)*(cos(q[2])*((19*cos(q[3])*sin(q[4]))/200 + 9/500) + sin(q[2])*((19*cos(q[4]))/200 + 197/1000) + 13/100) - sin(q[1] + 3927/5000)*(sin(q[2])*((19*cos(q[3])*sin(q[4]))/200 + 9/500) - cos(q[2])*((19*cos(q[4]))/200 + 197/1000)) + 1/25) - (19*sin(q[3])*sin(q[4])*(sin(q[1] + 3927/5000)*(cos(q[2])*cos(q[4]) - cos(q[3])*sin(q[2])*sin(q[4])) + cos(q[1] + 3927/5000)*(cos(q[4])*sin(q[2]) + cos(q[2])*cos(q[3])*sin(q[4]))))/200)
	J41 = (cos(conj(q[1]) + 3927/5000)*(sin(conj(q[2]))*(sin(conj(q[3]))*sin(conj(q[5])) - cos(conj(q[3]))*cos(conj(q[4]))*cos(conj(q[5]))) - cos(conj(q[2]))*cos(conj(q[5]))*sin(conj(q[4]))) + sin(conj(q[1]) + 3927/5000)*(cos(conj(q[2]))*(sin(conj(q[3]))*sin(conj(q[5])) - cos(conj(q[3]))*cos(conj(q[4]))*cos(conj(q[5]))) + cos(conj(q[5]))*sin(conj(q[2]))*sin(conj(q[4]))))*(cos(q[5])*(sin(q[4])*(sin(q[0] + q[1] + q[2] + 3927/5000)/2 + cos(q[0] - q[1] - q[2] + 3927/5000)/2) - cos(q[4])*(sin(q[0])*sin(q[3]) + cos(q[3])*(cos(q[0] + q[1] + q[2] + 3927/5000)/2 + cos(q[1] - q[0] + q[2] + 3927/5000)/2))) - sin(q[5])*(cos(q[3])*sin(q[0]) - sin(q[3])*(cos(q[0] + q[1] + q[2] + 3927/5000)/2 + cos(q[1] - q[0] + q[2] + 3927/5000)/2))) - (cos(conj(q[1]) + 3927/5000)*(sin(conj(q[2]))*(cos(conj(q[5]))*sin(conj(q[3])) + cos(conj(q[3]))*cos(conj(q[4]))*sin(conj(q[5]))) + cos(conj(q[2]))*sin(conj(q[4]))*sin(conj(q[5]))) + sin(conj(q[1]) + 3927/5000)*(cos(conj(q[2]))*(cos(conj(q[5]))*sin(conj(q[3])) + cos(conj(q[3]))*cos(conj(q[4]))*sin(conj(q[5]))) - sin(conj(q[2]))*sin(conj(q[4]))*sin(conj(q[5]))))*(sin(q[5])*(sin(q[4])*(sin(q[0] + q[1] + q[2] + 3927/5000)/2 + cos(q[0] - q[1] - q[2] + 3927/5000)/2) - cos(q[4])*(sin(q[0])*sin(q[3]) + cos(q[3])*(cos(q[0] + q[1] + q[2] + 3927/5000)/2 + cos(q[1] - q[0] + q[2] + 3927/5000)/2))) + cos(q[5])*(cos(q[3])*sin(q[0]) - sin(q[3])*(cos(q[0] + q[1] + q[2] + 3927/5000)/2 + cos(q[1] - q[0] + q[2] + 3927/5000)/2))) - (cos(conj(q[1]) + 3927/5000)*(cos(conj(q[2]))*cos(conj(q[4])) - cos(conj(q[3]))*sin(conj(q[2]))*sin(conj(q[4]))) - sin(conj(q[1]) + 3927/5000)*(cos(conj(q[4]))*sin(conj(q[2])) + cos(conj(q[2]))*cos(conj(q[3]))*sin(conj(q[4]))))*(cos(q[4])*(sin(q[0] + q[1] + q[2] + 3927/5000)/2 + cos(q[0] - q[1] - q[2] + 3927/5000)/2) + sin(q[4])*(sin(q[0])*sin(q[3]) + cos(q[3])*(cos(q[0] + q[1] + q[2] + 3927/5000)/2 + cos(q[1] - q[0] + q[2] + 3927/5000)/2)))
	J51 = (cos(conj(q[1]) + 3927/5000)*(sin(conj(q[2]))*(cos(conj(q[5]))*sin(conj(q[3])) + cos(conj(q[3]))*cos(conj(q[4]))*sin(conj(q[5]))) + cos(conj(q[2]))*sin(conj(q[4]))*sin(conj(q[5]))) + sin(conj(q[1]) + 3927/5000)*(cos(conj(q[2]))*(cos(conj(q[5]))*sin(conj(q[3])) + cos(conj(q[3]))*cos(conj(q[4]))*sin(conj(q[5]))) - sin(conj(q[2]))*sin(conj(q[4]))*sin(conj(q[5]))))*(sin(q[5])*(sin(q[4])*(cos(q[0] + q[1] + q[2] + 3927/5000)/2 - cos(q[1] - q[0] + q[2] + 3927/5000)/2) - cos(q[0])*cos(q[4])*sin(q[3])) + cos(q[0])*cos(q[3])*cos(q[5])) - (cos(conj(q[1]) + 3927/5000)*(sin(conj(q[2]))*(sin(conj(q[3]))*sin(conj(q[5])) - cos(conj(q[3]))*cos(conj(q[4]))*cos(conj(q[5]))) - cos(conj(q[2]))*cos(conj(q[5]))*sin(conj(q[4]))) + sin(conj(q[1]) + 3927/5000)*(cos(conj(q[2]))*(sin(conj(q[3]))*sin(conj(q[5])) - cos(conj(q[3]))*cos(conj(q[4]))*cos(conj(q[5]))) + cos(conj(q[5]))*sin(conj(q[2]))*sin(conj(q[4]))))*(cos(q[5])*(sin(q[4])*(cos(q[0] + q[1] + q[2] + 3927/5000)/2 - cos(q[1] - q[0] + q[2] + 3927/5000)/2) - cos(q[0])*cos(q[4])*sin(q[3])) - cos(q[0])*cos(q[3])*sin(q[5])) + (cos(conj(q[1]) + 3927/5000)*(cos(conj(q[2]))*cos(conj(q[4])) - cos(conj(q[3]))*sin(conj(q[2]))*sin(conj(q[4]))) - sin(conj(q[1]) + 3927/5000)*(cos(conj(q[4]))*sin(conj(q[2])) + cos(conj(q[2]))*cos(conj(q[3]))*sin(conj(q[4]))))*(cos(q[4])*(cos(q[0] + q[1] + q[2] + 3927/5000)/2 - cos(q[1] - q[0] + q[2] + 3927/5000)/2) + cos(q[0])*sin(q[3])*sin(q[4]))
	J61 = (cos(conj(q[1]) + 3927/5000)*(sin(conj(q[2]))*(cos(conj(q[5]))*sin(conj(q[3])) + cos(conj(q[3]))*cos(conj(q[4]))*sin(conj(q[5]))) + cos(conj(q[2]))*sin(conj(q[4]))*sin(conj(q[5]))) + sin(conj(q[1]) + 3927/5000)*(cos(conj(q[2]))*(cos(conj(q[5]))*sin(conj(q[3])) + cos(conj(q[3]))*cos(conj(q[4]))*sin(conj(q[5]))) - sin(conj(q[2]))*sin(conj(q[4]))*sin(conj(q[5]))))*(sin(q[5])*(cos(q[1] + q[2] + 3927/5000)*sin(q[4]) + cos(q[4])*(sin(q[1] + q[2] + q[3] + 3927/5000)/2 + sin(q[1] + q[2] - q[3] + 3927/5000)/2)) - cos(q[5])*(cos(q[1] + q[2] + q[3] + 3927/5000)/2 - cos(q[1] + q[2] - q[3] + 3927/5000)/2)) - (cos(conj(q[1]) + 3927/5000)*(sin(conj(q[2]))*(sin(conj(q[3]))*sin(conj(q[5])) - cos(conj(q[3]))*cos(conj(q[4]))*cos(conj(q[5]))) - cos(conj(q[2]))*cos(conj(q[5]))*sin(conj(q[4]))) + sin(conj(q[1]) + 3927/5000)*(cos(conj(q[2]))*(sin(conj(q[3]))*sin(conj(q[5])) - cos(conj(q[3]))*cos(conj(q[4]))*cos(conj(q[5]))) + cos(conj(q[5]))*sin(conj(q[2]))*sin(conj(q[4]))))*(cos(q[5])*(cos(q[1] + q[2] + 3927/5000)*sin(q[4]) + cos(q[4])*(sin(q[1] + q[2] + q[3] + 3927/5000)/2 + sin(q[1] + q[2] - q[3] + 3927/5000)/2)) + sin(q[5])*(cos(q[1] + q[2] + q[3] + 3927/5000)/2 - cos(q[1] + q[2] - q[3] + 3927/5000)/2)) - (cos(conj(q[1]) + 3927/5000)*(cos(conj(q[2]))*cos(conj(q[4])) - cos(conj(q[3]))*sin(conj(q[2]))*sin(conj(q[4]))) - sin(conj(q[1]) + 3927/5000)*(cos(conj(q[4]))*sin(conj(q[2])) + cos(conj(q[2]))*cos(conj(q[3]))*sin(conj(q[4]))))*(sin(q[4])*(sin(q[1] + q[2] + q[3] + 3927/5000)/2 + sin(q[1] + q[2] - q[3] + 3927/5000)/2) - cos(q[1] + q[2] + 3927/5000)*cos(q[4]))
	J12 = (sin(q[5])*(sin(q[4])*(sin(q[0] + q[1] + q[2] + 3927/5000)/2 + cos(q[0] - q[1] - q[2] + 3927/5000)/2) - cos(q[4])*(sin(q[0])*sin(q[3]) + cos(q[3])*(cos(q[0] + q[1] + q[2] + 3927/5000)/2 + cos(q[1] - q[0] + q[2] + 3927/5000)/2))) + cos(q[5])*(cos(q[3])*sin(q[0]) - sin(q[3])*(cos(q[0] + q[1] + q[2] + 3927/5000)/2 + cos(q[1] - q[0] + q[2] + 3927/5000)/2)))*((cos(q[2])*(cos(q[5])*sin(q[3]) + cos(q[3])*cos(q[4])*sin(q[5])) - sin(q[2])*sin(q[4])*sin(q[5]))*(sin(q[2])*((19*cos(q[3])*sin(q[4]))/200 + 9/500) - cos(q[2])*((19*cos(q[4]))/200 + 197/1000)) - (sin(q[2])*(cos(q[5])*sin(q[3]) + cos(q[3])*cos(q[4])*sin(q[5])) + cos(q[2])*sin(q[4])*sin(q[5]))*(cos(q[2])*((19*cos(q[3])*sin(q[4]))/200 + 9/500) + sin(q[2])*((19*cos(q[4]))/200 + 197/1000) + 13/100)) - (cos(q[5])*(sin(q[4])*(sin(q[0] + q[1] + q[2] + 3927/5000)/2 + cos(q[0] - q[1] - q[2] + 3927/5000)/2) - cos(q[4])*(sin(q[0])*sin(q[3]) + cos(q[3])*(cos(q[0] + q[1] + q[2] + 3927/5000)/2 + cos(q[1] - q[0] + q[2] + 3927/5000)/2))) - sin(q[5])*(cos(q[3])*sin(q[0]) - sin(q[3])*(cos(q[0] + q[1] + q[2] + 3927/5000)/2 + cos(q[1] - q[0] + q[2] + 3927/5000)/2)))*((sin(q[2])*((19*cos(q[3])*sin(q[4]))/200 + 9/500) - cos(q[2])*((19*cos(q[4]))/200 + 197/1000))*(cos(q[2])*(sin(q[3])*sin(q[5]) - cos(q[3])*cos(q[4])*cos(q[5])) + cos(q[5])*sin(q[2])*sin(q[4])) - (sin(q[2])*(sin(q[3])*sin(q[5]) - cos(q[3])*cos(q[4])*cos(q[5])) - cos(q[2])*cos(q[5])*sin(q[4]))*(cos(q[2])*((19*cos(q[3])*sin(q[4]))/200 + 9/500) + sin(q[2])*((19*cos(q[4]))/200 + 197/1000) + 13/100)) - (cos(q[4])*(sin(q[0] + q[1] + q[2] + 3927/5000)/2 + cos(q[0] - q[1] - q[2] + 3927/5000)/2) + sin(q[4])*(sin(q[0])*sin(q[3]) + cos(q[3])*(cos(q[0] + q[1] + q[2] + 3927/5000)/2 + cos(q[1] - q[0] + q[2] + 3927/5000)/2)))*((cos(q[4])*sin(q[2]) + cos(q[2])*cos(q[3])*sin(q[4]))*(sin(q[2])*((19*cos(q[3])*sin(q[4]))/200 + 9/500) - cos(q[2])*((19*cos(q[4]))/200 + 197/1000)) + (cos(q[2])*cos(q[4]) - cos(q[3])*sin(q[2])*sin(q[4]))*(cos(q[2])*((19*cos(q[3])*sin(q[4]))/200 + 9/500) + sin(q[2])*((19*cos(q[4]))/200 + 197/1000) + 13/100))
	J22 = (cos(q[4])*(cos(q[0] + q[1] + q[2] + 3927/5000)/2 - cos(q[1] - q[0] + q[2] + 3927/5000)/2) + cos(q[0])*sin(q[3])*sin(q[4]))*((cos(q[4])*sin(q[2]) + cos(q[2])*cos(q[3])*sin(q[4]))*(sin(q[2])*((19*cos(q[3])*sin(q[4]))/200 + 9/500) - cos(q[2])*((19*cos(q[4]))/200 + 197/1000)) + (cos(q[2])*cos(q[4]) - cos(q[3])*sin(q[2])*sin(q[4]))*(cos(q[2])*((19*cos(q[3])*sin(q[4]))/200 + 9/500) + sin(q[2])*((19*cos(q[4]))/200 + 197/1000) + 13/100)) - (sin(q[5])*(sin(q[4])*(cos(q[0] + q[1] + q[2] + 3927/5000)/2 - cos(q[1] - q[0] + q[2] + 3927/5000)/2) - cos(q[0])*cos(q[4])*sin(q[3])) + cos(q[0])*cos(q[3])*cos(q[5]))*((cos(q[2])*(cos(q[5])*sin(q[3]) + cos(q[3])*cos(q[4])*sin(q[5])) - sin(q[2])*sin(q[4])*sin(q[5]))*(sin(q[2])*((19*cos(q[3])*sin(q[4]))/200 + 9/500) - cos(q[2])*((19*cos(q[4]))/200 + 197/1000)) - (sin(q[2])*(cos(q[5])*sin(q[3]) + cos(q[3])*cos(q[4])*sin(q[5])) + cos(q[2])*sin(q[4])*sin(q[5]))*(cos(q[2])*((19*cos(q[3])*sin(q[4]))/200 + 9/500) + sin(q[2])*((19*cos(q[4]))/200 + 197/1000) + 13/100)) + (cos(q[5])*(sin(q[4])*(cos(q[0] + q[1] + q[2] + 3927/5000)/2 - cos(q[1] - q[0] + q[2] + 3927/5000)/2) - cos(q[0])*cos(q[4])*sin(q[3])) - cos(q[0])*cos(q[3])*sin(q[5]))*((sin(q[2])*((19*cos(q[3])*sin(q[4]))/200 + 9/500) - cos(q[2])*((19*cos(q[4]))/200 + 197/1000))*(cos(q[2])*(sin(q[3])*sin(q[5]) - cos(q[3])*cos(q[4])*cos(q[5])) + cos(q[5])*sin(q[2])*sin(q[4])) - (sin(q[2])*(sin(q[3])*sin(q[5]) - cos(q[3])*cos(q[4])*cos(q[5])) - cos(q[2])*cos(q[5])*sin(q[4]))*(cos(q[2])*((19*cos(q[3])*sin(q[4]))/200 + 9/500) + sin(q[2])*((19*cos(q[4]))/200 + 197/1000) + 13/100))
	J32 = (cos(q[5])*(cos(q[1] + q[2] + 3927/5000)*sin(q[4]) + cos(q[4])*(sin(q[1] + q[2] + q[3] + 3927/5000)/2 + sin(q[1] + q[2] - q[3] + 3927/5000)/2)) + sin(q[5])*(cos(q[1] + q[2] + q[3] + 3927/5000)/2 - cos(q[1] + q[2] - q[3] + 3927/5000)/2))*((sin(q[2])*((19*cos(q[3])*sin(q[4]))/200 + 9/500) - cos(q[2])*((19*cos(q[4]))/200 + 197/1000))*(cos(q[2])*(sin(q[3])*sin(q[5]) - cos(q[3])*cos(q[4])*cos(q[5])) + cos(q[5])*sin(q[2])*sin(q[4])) - (sin(q[2])*(sin(q[3])*sin(q[5]) - cos(q[3])*cos(q[4])*cos(q[5])) - cos(q[2])*cos(q[5])*sin(q[4]))*(cos(q[2])*((19*cos(q[3])*sin(q[4]))/200 + 9/500) + sin(q[2])*((19*cos(q[4]))/200 + 197/1000) + 13/100)) - (sin(q[4])*(sin(q[1] + q[2] + q[3] + 3927/5000)/2 + sin(q[1] + q[2] - q[3] + 3927/5000)/2) - cos(q[1] + q[2] + 3927/5000)*cos(q[4]))*((cos(q[4])*sin(q[2]) + cos(q[2])*cos(q[3])*sin(q[4]))*(sin(q[2])*((19*cos(q[3])*sin(q[4]))/200 + 9/500) - cos(q[2])*((19*cos(q[4]))/200 + 197/1000)) + (cos(q[2])*cos(q[4]) - cos(q[3])*sin(q[2])*sin(q[4]))*(cos(q[2])*((19*cos(q[3])*sin(q[4]))/200 + 9/500) + sin(q[2])*((19*cos(q[4]))/200 + 197/1000) + 13/100)) - (sin(q[5])*(cos(q[1] + q[2] + 3927/5000)*sin(q[4]) + cos(q[4])*(sin(q[1] + q[2] + q[3] + 3927/5000)/2 + sin(q[1] + q[2] - q[3] + 3927/5000)/2)) - cos(q[5])*(cos(q[1] + q[2] + q[3] + 3927/5000)/2 - cos(q[1] + q[2] - q[3] + 3927/5000)/2))*((cos(q[2])*(cos(q[5])*sin(q[3]) + cos(q[3])*cos(q[4])*sin(q[5])) - sin(q[2])*sin(q[4])*sin(q[5]))*(sin(q[2])*((19*cos(q[3])*sin(q[4]))/200 + 9/500) - cos(q[2])*((19*cos(q[4]))/200 + 197/1000)) - (sin(q[2])*(cos(q[5])*sin(q[3]) + cos(q[3])*cos(q[4])*sin(q[5])) + cos(q[2])*sin(q[4])*sin(q[5]))*(cos(q[2])*((19*cos(q[3])*sin(q[4]))/200 + 9/500) + sin(q[2])*((19*cos(q[4]))/200 + 197/1000) + 13/100))
	J42 = (cos(conj(q[3]))*cos(conj(q[5])) - cos(conj(q[4]))*sin(conj(q[3]))*sin(conj(q[5])))*(sin(q[5])*(sin(q[4])*(sin(q[0] + q[1] + q[2] + 3927/5000)/2 + cos(q[0] - q[1] - q[2] + 3927/5000)/2) - cos(q[4])*(sin(q[0])*sin(q[3]) + cos(q[3])*(cos(q[0] + q[1] + q[2] + 3927/5000)/2 + cos(q[1] - q[0] + q[2] + 3927/5000)/2))) + cos(q[5])*(cos(q[3])*sin(q[0]) - sin(q[3])*(cos(q[0] + q[1] + q[2] + 3927/5000)/2 + cos(q[1] - q[0] + q[2] + 3927/5000)/2))) - (cos(conj(q[3]))*sin(conj(q[5])) + cos(conj(q[4]))*cos(conj(q[5]))*sin(conj(q[3])))*(cos(q[5])*(sin(q[4])*(sin(q[0] + q[1] + q[2] + 3927/5000)/2 + cos(q[0] - q[1] - q[2] + 3927/5000)/2) - cos(q[4])*(sin(q[0])*sin(q[3]) + cos(q[3])*(cos(q[0] + q[1] + q[2] + 3927/5000)/2 + cos(q[1] - q[0] + q[2] + 3927/5000)/2))) - sin(q[5])*(cos(q[3])*sin(q[0]) - sin(q[3])*(cos(q[0] + q[1] + q[2] + 3927/5000)/2 + cos(q[1] - q[0] + q[2] + 3927/5000)/2))) + sin(conj(q[3]))*sin(conj(q[4]))*(cos(q[4])*(sin(q[0] + q[1] + q[2] + 3927/5000)/2 + cos(q[0] - q[1] - q[2] + 3927/5000)/2) + sin(q[4])*(sin(q[0])*sin(q[3]) + cos(q[3])*(cos(q[0] + q[1] + q[2] + 3927/5000)/2 + cos(q[1] - q[0] + q[2] + 3927/5000)/2)))
	J52 = (cos(conj(q[3]))*sin(conj(q[5])) + cos(conj(q[4]))*cos(conj(q[5]))*sin(conj(q[3])))*(cos(q[5])*(sin(q[4])*(cos(q[0] + q[1] + q[2] + 3927/5000)/2 - cos(q[1] - q[0] + q[2] + 3927/5000)/2) - cos(q[0])*cos(q[4])*sin(q[3])) - cos(q[0])*cos(q[3])*sin(q[5])) - (cos(conj(q[3]))*cos(conj(q[5])) - cos(conj(q[4]))*sin(conj(q[3]))*sin(conj(q[5])))*(sin(q[5])*(sin(q[4])*(cos(q[0] + q[1] + q[2] + 3927/5000)/2 - cos(q[1] - q[0] + q[2] + 3927/5000)/2) - cos(q[0])*cos(q[4])*sin(q[3])) + cos(q[0])*cos(q[3])*cos(q[5])) - sin(conj(q[3]))*sin(conj(q[4]))*(cos(q[4])*(cos(q[0] + q[1] + q[2] + 3927/5000)/2 - cos(q[1] - q[0] + q[2] + 3927/5000)/2) + cos(q[0])*sin(q[3])*sin(q[4]))
	J62 = (cos(conj(q[3]))*sin(conj(q[5])) + cos(conj(q[4]))*cos(conj(q[5]))*sin(conj(q[3])))*(cos(q[5])*(cos(q[1] + q[2] + 3927/5000)*sin(q[4]) + cos(q[4])*(sin(q[1] + q[2] + q[3] + 3927/5000)/2 + sin(q[1] + q[2] - q[3] + 3927/5000)/2)) + sin(q[5])*(cos(q[1] + q[2] + q[3] + 3927/5000)/2 - cos(q[1] + q[2] - q[3] + 3927/5000)/2)) - (cos(conj(q[3]))*cos(conj(q[5])) - cos(conj(q[4]))*sin(conj(q[3]))*sin(conj(q[5])))*(sin(q[5])*(cos(q[1] + q[2] + 3927/5000)*sin(q[4]) + cos(q[4])*(sin(q[1] + q[2] + q[3] + 3927/5000)/2 + sin(q[1] + q[2] - q[3] + 3927/5000)/2)) - cos(q[5])*(cos(q[1] + q[2] + q[3] + 3927/5000)/2 - cos(q[1] + q[2] - q[3] + 3927/5000)/2)) + sin(conj(q[3]))*sin(conj(q[4]))*(sin(q[4])*(sin(q[1] + q[2] + q[3] + 3927/5000)/2 + sin(q[1] + q[2] - q[3] + 3927/5000)/2) - cos(q[1] + q[2] + 3927/5000)*cos(q[4]))
	J13 = ((sin(q[3])*sin(q[5]) - cos(q[3])*cos(q[4])*cos(q[5]))*((19*cos(q[4]))/200 + 197/1000) - cos(q[5])*sin(q[4])*((19*cos(q[3])*sin(q[4]))/200 + 9/500))*(cos(q[5])*(sin(q[4])*(sin(q[0] + q[1] + q[2] + 3927/5000)/2 + cos(q[0] - q[1] - q[2] + 3927/5000)/2) - cos(q[4])*(sin(q[0])*sin(q[3]) + cos(q[3])*(cos(q[0] + q[1] + q[2] + 3927/5000)/2 + cos(q[1] - q[0] + q[2] + 3927/5000)/2))) - sin(q[5])*(cos(q[3])*sin(q[0]) - sin(q[3])*(cos(q[0] + q[1] + q[2] + 3927/5000)/2 + cos(q[1] - q[0] + q[2] + 3927/5000)/2))) - ((cos(q[5])*sin(q[3]) + cos(q[3])*cos(q[4])*sin(q[5]))*((19*cos(q[4]))/200 + 197/1000) + sin(q[4])*sin(q[5])*((19*cos(q[3])*sin(q[4]))/200 + 9/500))*(sin(q[5])*(sin(q[4])*(sin(q[0] + q[1] + q[2] + 3927/5000)/2 + cos(q[0] - q[1] - q[2] + 3927/5000)/2) - cos(q[4])*(sin(q[0])*sin(q[3]) + cos(q[3])*(cos(q[0] + q[1] + q[2] + 3927/5000)/2 + cos(q[1] - q[0] + q[2] + 3927/5000)/2))) + cos(q[5])*(cos(q[3])*sin(q[0]) - sin(q[3])*(cos(q[0] + q[1] + q[2] + 3927/5000)/2 + cos(q[1] - q[0] + q[2] + 3927/5000)/2))) - (cos(q[4])*(sin(q[0] + q[1] + q[2] + 3927/5000)/2 + cos(q[0] - q[1] - q[2] + 3927/5000)/2) + sin(q[4])*(sin(q[0])*sin(q[3]) + cos(q[3])*(cos(q[0] + q[1] + q[2] + 3927/5000)/2 + cos(q[1] - q[0] + q[2] + 3927/5000)/2)))*((9*cos(q[4]))/500 - (197*cos(q[3])*sin(q[4]))/1000)
	J23 = (cos(q[4])*(cos(q[0] + q[1] + q[2] + 3927/5000)/2 - cos(q[1] - q[0] + q[2] + 3927/5000)/2) + cos(q[0])*sin(q[3])*sin(q[4]))*((9*cos(q[4]))/500 - (197*cos(q[3])*sin(q[4]))/1000) - ((sin(q[3])*sin(q[5]) - cos(q[3])*cos(q[4])*cos(q[5]))*((19*cos(q[4]))/200 + 197/1000) - cos(q[5])*sin(q[4])*((19*cos(q[3])*sin(q[4]))/200 + 9/500))*(cos(q[5])*(sin(q[4])*(cos(q[0] + q[1] + q[2] + 3927/5000)/2 - cos(q[1] - q[0] + q[2] + 3927/5000)/2) - cos(q[0])*cos(q[4])*sin(q[3])) - cos(q[0])*cos(q[3])*sin(q[5])) + ((cos(q[5])*sin(q[3]) + cos(q[3])*cos(q[4])*sin(q[5]))*((19*cos(q[4]))/200 + 197/1000) + sin(q[4])*sin(q[5])*((19*cos(q[3])*sin(q[4]))/200 + 9/500))*(sin(q[5])*(sin(q[4])*(cos(q[0] + q[1] + q[2] + 3927/5000)/2 - cos(q[1] - q[0] + q[2] + 3927/5000)/2) - cos(q[0])*cos(q[4])*sin(q[3])) + cos(q[0])*cos(q[3])*cos(q[5]))
	J33 = ((cos(q[5])*sin(q[3]) + cos(q[3])*cos(q[4])*sin(q[5]))*((19*cos(q[4]))/200 + 197/1000) + sin(q[4])*sin(q[5])*((19*cos(q[3])*sin(q[4]))/200 + 9/500))*(sin(q[5])*(cos(q[1] + q[2] + 3927/5000)*sin(q[4]) + cos(q[4])*(sin(q[1] + q[2] + q[3] + 3927/5000)/2 + sin(q[1] + q[2] - q[3] + 3927/5000)/2)) - cos(q[5])*(cos(q[1] + q[2] + q[3] + 3927/5000)/2 - cos(q[1] + q[2] - q[3] + 3927/5000)/2)) - ((sin(q[3])*sin(q[5]) - cos(q[3])*cos(q[4])*cos(q[5]))*((19*cos(q[4]))/200 + 197/1000) - cos(q[5])*sin(q[4])*((19*cos(q[3])*sin(q[4]))/200 + 9/500))*(cos(q[5])*(cos(q[1] + q[2] + 3927/5000)*sin(q[4]) + cos(q[4])*(sin(q[1] + q[2] + q[3] + 3927/5000)/2 + sin(q[1] + q[2] - q[3] + 3927/5000)/2)) + sin(q[5])*(cos(q[1] + q[2] + q[3] + 3927/5000)/2 - cos(q[1] + q[2] - q[3] + 3927/5000)/2)) - (sin(q[4])*(sin(q[1] + q[2] + q[3] + 3927/5000)/2 + sin(q[1] + q[2] - q[3] + 3927/5000)/2) - cos(q[1] + q[2] + 3927/5000)*cos(q[4]))*((9*cos(q[4]))/500 - (197*cos(q[3])*sin(q[4]))/1000)
	J43 = (cos(conj(q[3]))*cos(conj(q[5])) - cos(conj(q[4]))*sin(conj(q[3]))*sin(conj(q[5])))*(sin(q[5])*(sin(q[4])*(sin(q[0] + q[1] + q[2] + 3927/5000)/2 + cos(q[0] - q[1] - q[2] + 3927/5000)/2) - cos(q[4])*(sin(q[0])*sin(q[3]) + cos(q[3])*(cos(q[0] + q[1] + q[2] + 3927/5000)/2 + cos(q[1] - q[0] + q[2] + 3927/5000)/2))) + cos(q[5])*(cos(q[3])*sin(q[0]) - sin(q[3])*(cos(q[0] + q[1] + q[2] + 3927/5000)/2 + cos(q[1] - q[0] + q[2] + 3927/5000)/2))) - (cos(conj(q[3]))*sin(conj(q[5])) + cos(conj(q[4]))*cos(conj(q[5]))*sin(conj(q[3])))*(cos(q[5])*(sin(q[4])*(sin(q[0] + q[1] + q[2] + 3927/5000)/2 + cos(q[0] - q[1] - q[2] + 3927/5000)/2) - cos(q[4])*(sin(q[0])*sin(q[3]) + cos(q[3])*(cos(q[0] + q[1] + q[2] + 3927/5000)/2 + cos(q[1] - q[0] + q[2] + 3927/5000)/2))) - sin(q[5])*(cos(q[3])*sin(q[0]) - sin(q[3])*(cos(q[0] + q[1] + q[2] + 3927/5000)/2 + cos(q[1] - q[0] + q[2] + 3927/5000)/2))) + sin(conj(q[3]))*sin(conj(q[4]))*(cos(q[4])*(sin(q[0] + q[1] + q[2] + 3927/5000)/2 + cos(q[0] - q[1] - q[2] + 3927/5000)/2) + sin(q[4])*(sin(q[0])*sin(q[3]) + cos(q[3])*(cos(q[0] + q[1] + q[2] + 3927/5000)/2 + cos(q[1] - q[0] + q[2] + 3927/5000)/2)))
	J53 = (cos(conj(q[3]))*sin(conj(q[5])) + cos(conj(q[4]))*cos(conj(q[5]))*sin(conj(q[3])))*(cos(q[5])*(sin(q[4])*(cos(q[0] + q[1] + q[2] + 3927/5000)/2 - cos(q[1] - q[0] + q[2] + 3927/5000)/2) - cos(q[0])*cos(q[4])*sin(q[3])) - cos(q[0])*cos(q[3])*sin(q[5])) - (cos(conj(q[3]))*cos(conj(q[5])) - cos(conj(q[4]))*sin(conj(q[3]))*sin(conj(q[5])))*(sin(q[5])*(sin(q[4])*(cos(q[0] + q[1] + q[2] + 3927/5000)/2 - cos(q[1] - q[0] + q[2] + 3927/5000)/2) - cos(q[0])*cos(q[4])*sin(q[3])) + cos(q[0])*cos(q[3])*cos(q[5])) - sin(conj(q[3]))*sin(conj(q[4]))*(cos(q[4])*(cos(q[0] + q[1] + q[2] + 3927/5000)/2 - cos(q[1] - q[0] + q[2] + 3927/5000)/2) + cos(q[0])*sin(q[3])*sin(q[4]))
	J63 = (cos(conj(q[3]))*sin(conj(q[5])) + cos(conj(q[4]))*cos(conj(q[5]))*sin(conj(q[3])))*(cos(q[5])*(cos(q[1] + q[2] + 3927/5000)*sin(q[4]) + cos(q[4])*(sin(q[1] + q[2] + q[3] + 3927/5000)/2 + sin(q[1] + q[2] - q[3] + 3927/5000)/2)) + sin(q[5])*(cos(q[1] + q[2] + q[3] + 3927/5000)/2 - cos(q[1] + q[2] - q[3] + 3927/5000)/2)) - (cos(conj(q[3]))*cos(conj(q[5])) - cos(conj(q[4]))*sin(conj(q[3]))*sin(conj(q[5])))*(sin(q[5])*(cos(q[1] + q[2] + 3927/5000)*sin(q[4]) + cos(q[4])*(sin(q[1] + q[2] + q[3] + 3927/5000)/2 + sin(q[1] + q[2] - q[3] + 3927/5000)/2)) - cos(q[5])*(cos(q[1] + q[2] + q[3] + 3927/5000)/2 - cos(q[1] + q[2] - q[3] + 3927/5000)/2)) + sin(conj(q[3]))*sin(conj(q[4]))*(sin(q[4])*(sin(q[1] + q[2] + q[3] + 3927/5000)/2 + sin(q[1] + q[2] - q[3] + 3927/5000)/2) - cos(q[1] + q[2] + 3927/5000)*cos(q[4]))
	J14 = (19*cos(q[5])*sin(q[4])*(sin(q[5])*(sin(q[4])*(sin(q[0] + q[1] + q[2] + 3927/5000)/2 + cos(q[0] - q[1] - q[2] + 3927/5000)/2) - cos(q[4])*(sin(q[0])*sin(q[3]) + cos(q[3])*(cos(q[0] + q[1] + q[2] + 3927/5000)/2 + cos(q[1] - q[0] + q[2] + 3927/5000)/2))) + cos(q[5])*(cos(q[3])*sin(q[0]) - sin(q[3])*(cos(q[0] + q[1] + q[2] + 3927/5000)/2 + cos(q[1] - q[0] + q[2] + 3927/5000)/2))))/200 - (19*sin(q[4])*sin(q[5])*(cos(q[5])*(sin(q[4])*(sin(q[0] + q[1] + q[2] + 3927/5000)/2 + cos(q[0] - q[1] - q[2] + 3927/5000)/2) - cos(q[4])*(sin(q[0])*sin(q[3]) + cos(q[3])*(cos(q[0] + q[1] + q[2] + 3927/5000)/2 + cos(q[1] - q[0] + q[2] + 3927/5000)/2))) - sin(q[5])*(cos(q[3])*sin(q[0]) - sin(q[3])*(cos(q[0] + q[1] + q[2] + 3927/5000)/2 + cos(q[1] - q[0] + q[2] + 3927/5000)/2))))/200
	J24 = (19*sin(q[4])*sin(q[5])*(cos(q[5])*(sin(q[4])*(cos(q[0] + q[1] + q[2] + 3927/5000)/2 - cos(q[1] - q[0] + q[2] + 3927/5000)/2) - cos(q[0])*cos(q[4])*sin(q[3])) - cos(q[0])*cos(q[3])*sin(q[5])))/200 - (19*cos(q[5])*sin(q[4])*(sin(q[5])*(sin(q[4])*(cos(q[0] + q[1] + q[2] + 3927/5000)/2 - cos(q[1] - q[0] + q[2] + 3927/5000)/2) - cos(q[0])*cos(q[4])*sin(q[3])) + cos(q[0])*cos(q[3])*cos(q[5])))/200
	J34 = (19*sin(q[4])*sin(q[5])*(cos(q[5])*(cos(q[1] + q[2] + 3927/5000)*sin(q[4]) + cos(q[4])*(sin(q[1] + q[2] + q[3] + 3927/5000)/2 + sin(q[1] + q[2] - q[3] + 3927/5000)/2)) + sin(q[5])*(cos(q[1] + q[2] + q[3] + 3927/5000)/2 - cos(q[1] + q[2] - q[3] + 3927/5000)/2)))/200 - (19*cos(q[5])*sin(q[4])*(sin(q[5])*(cos(q[1] + q[2] + 3927/5000)*sin(q[4]) + cos(q[4])*(sin(q[1] + q[2] + q[3] + 3927/5000)/2 + sin(q[1] + q[2] - q[3] + 3927/5000)/2)) - cos(q[5])*(cos(q[1] + q[2] + q[3] + 3927/5000)/2 - cos(q[1] + q[2] - q[3] + 3927/5000)/2)))/200
	J44 = cos(conj(q[4]))*(cos(q[4])*(sin(q[0] + q[1] + q[2] + 3927/5000)/2 + cos(q[0] - q[1] - q[2] + 3927/5000)/2) + sin(q[4])*(sin(q[0])*sin(q[3]) + cos(q[3])*(cos(q[0] + q[1] + q[2] + 3927/5000)/2 + cos(q[1] - q[0] + q[2] + 3927/5000)/2))) + cos(conj(q[5]))*sin(conj(q[4]))*(cos(q[5])*(sin(q[4])*(sin(q[0] + q[1] + q[2] + 3927/5000)/2 + cos(q[0] - q[1] - q[2] + 3927/5000)/2) - cos(q[4])*(sin(q[0])*sin(q[3]) + cos(q[3])*(cos(q[0] + q[1] + q[2] + 3927/5000)/2 + cos(q[1] - q[0] + q[2] + 3927/5000)/2))) - sin(q[5])*(cos(q[3])*sin(q[0]) - sin(q[3])*(cos(q[0] + q[1] + q[2] + 3927/5000)/2 + cos(q[1] - q[0] + q[2] + 3927/5000)/2))) + sin(conj(q[4]))*sin(conj(q[5]))*(sin(q[5])*(sin(q[4])*(sin(q[0] + q[1] + q[2] + 3927/5000)/2 + cos(q[0] - q[1] - q[2] + 3927/5000)/2) - cos(q[4])*(sin(q[0])*sin(q[3]) + cos(q[3])*(cos(q[0] + q[1] + q[2] + 3927/5000)/2 + cos(q[1] - q[0] + q[2] + 3927/5000)/2))) + cos(q[5])*(cos(q[3])*sin(q[0]) - sin(q[3])*(cos(q[0] + q[1] + q[2] + 3927/5000)/2 + cos(q[1] - q[0] + q[2] + 3927/5000)/2)))
	J54 = - cos(conj(q[4]))*(cos(q[4])*(cos(q[0] + q[1] + q[2] + 3927/5000)/2 - cos(q[1] - q[0] + q[2] + 3927/5000)/2) + cos(q[0])*sin(q[3])*sin(q[4])) - cos(conj(q[5]))*sin(conj(q[4]))*(cos(q[5])*(sin(q[4])*(cos(q[0] + q[1] + q[2] + 3927/5000)/2 - cos(q[1] - q[0] + q[2] + 3927/5000)/2) - cos(q[0])*cos(q[4])*sin(q[3])) - cos(q[0])*cos(q[3])*sin(q[5])) - sin(conj(q[4]))*sin(conj(q[5]))*(sin(q[5])*(sin(q[4])*(cos(q[0] + q[1] + q[2] + 3927/5000)/2 - cos(q[1] - q[0] + q[2] + 3927/5000)/2) - cos(q[0])*cos(q[4])*sin(q[3])) + cos(q[0])*cos(q[3])*cos(q[5]))
	J64 = cos(conj(q[4]))*(sin(q[4])*(sin(q[1] + q[2] + q[3] + 3927/5000)/2 + sin(q[1] + q[2] - q[3] + 3927/5000)/2) - cos(q[1] + q[2] + 3927/5000)*cos(q[4])) - cos(conj(q[5]))*sin(conj(q[4]))*(cos(q[5])*(cos(q[1] + q[2] + 3927/5000)*sin(q[4]) + cos(q[4])*(sin(q[1] + q[2] + q[3] + 3927/5000)/2 + sin(q[1] + q[2] - q[3] + 3927/5000)/2)) + sin(q[5])*(cos(q[1] + q[2] + q[3] + 3927/5000)/2 - cos(q[1] + q[2] - q[3] + 3927/5000)/2)) - sin(conj(q[4]))*sin(conj(q[5]))*(sin(q[5])*(cos(q[1] + q[2] + 3927/5000)*sin(q[4]) + cos(q[4])*(sin(q[1] + q[2] + q[3] + 3927/5000)/2 + sin(q[1] + q[2] - q[3] + 3927/5000)/2)) - cos(q[5])*(cos(q[1] + q[2] + q[3] + 3927/5000)/2 - cos(q[1] + q[2] - q[3] + 3927/5000)/2))
	J15 = - (19*cos(q[5])*(cos(q[5])*(sin(q[4])*(sin(q[0] + q[1] + q[2] + 3927/5000)/2 + cos(q[0] - q[1] - q[2] + 3927/5000)/2) - cos(q[4])*(sin(q[0])*sin(q[3]) + cos(q[3])*(cos(q[0] + q[1] + q[2] + 3927/5000)/2 + cos(q[1] - q[0] + q[2] + 3927/5000)/2))) - sin(q[5])*(cos(q[3])*sin(q[0]) - sin(q[3])*(cos(q[0] + q[1] + q[2] + 3927/5000)/2 + cos(q[1] - q[0] + q[2] + 3927/5000)/2))))/200 - (19*sin(q[5])*(sin(q[5])*(sin(q[4])*(sin(q[0] + q[1] + q[2] + 3927/5000)/2 + cos(q[0] - q[1] - q[2] + 3927/5000)/2) - cos(q[4])*(sin(q[0])*sin(q[3]) + cos(q[3])*(cos(q[0] + q[1] + q[2] + 3927/5000)/2 + cos(q[1] - q[0] + q[2] + 3927/5000)/2))) + cos(q[5])*(cos(q[3])*sin(q[0]) - sin(q[3])*(cos(q[0] + q[1] + q[2] + 3927/5000)/2 + cos(q[1] - q[0] + q[2] + 3927/5000)/2))))/200
	J25 = (19*cos(q[5])*(cos(q[5])*(sin(q[4])*(cos(q[0] + q[1] + q[2] + 3927/5000)/2 - cos(q[1] - q[0] + q[2] + 3927/5000)/2) - cos(q[0])*cos(q[4])*sin(q[3])) - cos(q[0])*cos(q[3])*sin(q[5])))/200 + (19*sin(q[5])*(sin(q[5])*(sin(q[4])*(cos(q[0] + q[1] + q[2] + 3927/5000)/2 - cos(q[1] - q[0] + q[2] + 3927/5000)/2) - cos(q[0])*cos(q[4])*sin(q[3])) + cos(q[0])*cos(q[3])*cos(q[5])))/200
	J35 = (19*sin(q[5])*(sin(q[5])*(cos(q[1] + q[2] + 3927/5000)*sin(q[4]) + cos(q[4])*(sin(q[1] + q[2] + q[3] + 3927/5000)/2 + sin(q[1] + q[2] - q[3] + 3927/5000)/2)) - cos(q[5])*(cos(q[1] + q[2] + q[3] + 3927/5000)/2 - cos(q[1] + q[2] - q[3] + 3927/5000)/2)))/200 + (19*cos(q[5])*(cos(q[5])*(cos(q[1] + q[2] + 3927/5000)*sin(q[4]) + cos(q[4])*(sin(q[1] + q[2] + q[3] + 3927/5000)/2 + sin(q[1] + q[2] - q[3] + 3927/5000)/2)) + sin(q[5])*(cos(q[1] + q[2] + q[3] + 3927/5000)/2 - cos(q[1] + q[2] - q[3] + 3927/5000)/2)))/200
	J45 = cos(conj(q[5]))*(sin(q[5])*(sin(q[4])*(sin(q[0] + q[1] + q[2] + 3927/5000)/2 + cos(q[0] - q[1] - q[2] + 3927/5000)/2) - cos(q[4])*(sin(q[0])*sin(q[3]) + cos(q[3])*(cos(q[0] + q[1] + q[2] + 3927/5000)/2 + cos(q[1] - q[0] + q[2] + 3927/5000)/2))) + cos(q[5])*(cos(q[3])*sin(q[0]) - sin(q[3])*(cos(q[0] + q[1] + q[2] + 3927/5000)/2 + cos(q[1] - q[0] + q[2] + 3927/5000)/2))) - sin(conj(q[5]))*(cos(q[5])*(sin(q[4])*(sin(q[0] + q[1] + q[2] + 3927/5000)/2 + cos(q[0] - q[1] - q[2] + 3927/5000)/2) - cos(q[4])*(sin(q[0])*sin(q[3]) + cos(q[3])*(cos(q[0] + q[1] + q[2] + 3927/5000)/2 + cos(q[1] - q[0] + q[2] + 3927/5000)/2))) - sin(q[5])*(cos(q[3])*sin(q[0]) - sin(q[3])*(cos(q[0] + q[1] + q[2] + 3927/5000)/2 + cos(q[1] - q[0] + q[2] + 3927/5000)/2)))
	J55 = sin(conj(q[5]))*(cos(q[5])*(sin(q[4])*(cos(q[0] + q[1] + q[2] + 3927/5000)/2 - cos(q[1] - q[0] + q[2] + 3927/5000)/2) - cos(q[0])*cos(q[4])*sin(q[3])) - cos(q[0])*cos(q[3])*sin(q[5])) - cos(conj(q[5]))*(sin(q[5])*(sin(q[4])*(cos(q[0] + q[1] + q[2] + 3927/5000)/2 - cos(q[1] - q[0] + q[2] + 3927/5000)/2) - cos(q[0])*cos(q[4])*sin(q[3])) + cos(q[0])*cos(q[3])*cos(q[5]))
	J65 = sin(conj(q[5]))*(cos(q[5])*(cos(q[1] + q[2] + 3927/5000)*sin(q[4]) + cos(q[4])*(sin(q[1] + q[2] + q[3] + 3927/5000)/2 + sin(q[1] + q[2] - q[3] + 3927/5000)/2)) + sin(q[5])*(cos(q[1] + q[2] + q[3] + 3927/5000)/2 - cos(q[1] + q[2] - q[3] + 3927/5000)/2)) - cos(conj(q[5]))*(sin(q[5])*(cos(q[1] + q[2] + 3927/5000)*sin(q[4]) + cos(q[4])*(sin(q[1] + q[2] + q[3] + 3927/5000)/2 + sin(q[1] + q[2] - q[3] + 3927/5000)/2)) - cos(q[5])*(cos(q[1] + q[2] + q[3] + 3927/5000)/2 - cos(q[1] + q[2] - q[3] + 3927/5000)/2))
	J16 = 0
	J26 = 0
	J36 = 0
	J46 = cos(q[4])*(sin(q[0] + q[1] + q[2] + 3927/5000)/2 + cos(q[0] - q[1] - q[2] + 3927/5000)/2) + sin(q[4])*(sin(q[0])*sin(q[3]) + cos(q[3])*(cos(q[0] + q[1] + q[2] + 3927/5000)/2 + cos(q[1] - q[0] + q[2] + 3927/5000)/2))
	J56 = - cos(q[4])*(cos(q[0] + q[1] + q[2] + 3927/5000)/2 - cos(q[1] - q[0] + q[2] + 3927/5000)/2) - cos(q[0])*sin(q[3])*sin(q[4])
	J66 = sin(q[4])*(sin(q[1] + q[2] + q[3] + 3927/5000)/2 + sin(q[1] + q[2] - q[3] + 3927/5000)/2) - cos(q[1] + q[2] + 3927/5000)*cos(q[4])
		
	#Diingat bahwa Matlab J(1) merupakan baris 1 kolom 1, J(2) adalah baris 2 kolom 1
	#J = np.array([J1, J2, J3])#, J4, J5, J6])
	J = np.array([[J11, J12, J13, J14, J15, J16],[J21, J22, J23, J24, J25, J26], [J31, J32, J33, J34, J35, J36]])
	#J = np.array([[J11, J12, J13, J14, J15, J16],[J21, J22, J23, J24, J25, J26], [J31, J32, J33, J34, J35, J36],[J41,J42,J43,J44,J45,J46],[J51,J52,J53,J54,J55,J56],[J61,J62,J63,J64,J65,J66]])
	
	#cf.det = np.linalg.det(J)
	JInv = np.linalg.pinv(J)
	
	#print(JInv)
	cf.ddq = np.matmul(JInv, cf.ddxyz)
